import{c as x,az as qt,aA as ta,k as xe,g as Te,r as $,at as aa,w as he,x as gt,h as b,a8 as ge,l as na,p as N,aB as la,aC as oa,aD as ra,aE as sa,aF as ia,aG as ua,aH as ca,M as da,Q as Z,am as Pe,d as fa,o as va,W as Ie,X as fe,Y as M,a3 as _,f as m,_ as B,$ as ne,C as Re,a5 as yt,F as ma,a6 as ha}from"./index-ICC6MUA8.js";import{a as St,b as Ct,c as ga,Q as G,_ as ya}from"./_plugin-vue_export-helper-C4fMuBGw.js";import{u as _a,c as ba,e as Ma,Q as xa,a as _t}from"./use-render-cache-C91psyAg.js";import{u as Yt,b as Ht,a as It,Q as Da}from"./QInput-DPkpR0m7.js";import{p,h as wa,i as qa,u as Sa,j as Ca,b as Ya,Q as Ee,f as Me}from"./format-DX_QL8nS.js";import{Q as kt,b as Ue,c as Ha,C as Ze}from"./ClosePopup-B-3jKqB4.js";import{Q as z}from"./QCardSection-TvfSs7oo.js";import{Q as Xe,a as Je}from"./QItemLabel-BUB_I1M_.js";import{Q as Ia}from"./QBadge-DbnxqAnT.js";import{Q as ka}from"./QPage-CliCZm0T.js";import"./QCheckbox-BHzX56xN.js";const re=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function pa(e,l,u){return Object.prototype.toString.call(e)==="[object Date]"&&(u=e.getDate(),l=e.getMonth()+1,e=e.getFullYear()),$a(at(e,l,u))}function bt(e,l,u){return Tt(Va(e,l,u))}function Ta(e){return Aa(e)===0}function pe(e,l){return l<=6?31:l<=11||Ta(e)?30:29}function Aa(e){const l=re.length;let u=re[0],i,c,r,D,o;if(e<u||e>=re[l-1])throw new Error("Invalid Jalaali year "+e);for(o=1;o<l&&(i=re[o],c=i-u,!(e<i));o+=1)u=i;return D=e-u,c-D<6&&(D=D-c+V(c+4,33)*33),r=P(P(D+1,33)-1,4),r===-1&&(r=4),r}function pt(e,l){const u=re.length,i=e+621;let c=-14,r=re[0],D,o,h,I,v;if(e<r||e>=re[u-1])throw new Error("Invalid Jalaali year "+e);for(v=1;v<u&&(D=re[v],o=D-r,!(e<D));v+=1)c=c+V(o,33)*8+V(P(o,33),4),r=D;I=e-r,c=c+V(I,33)*8+V(P(I,33)+3,4),P(o,33)===4&&o-I===4&&(c+=1);const S=V(i,4)-V((V(i,100)+1)*3,4)-150,L=20+c-S;return l||(o-I<6&&(I=I-o+V(o+4,33)*33),h=P(P(I+1,33)-1,4),h===-1&&(h=4)),{leap:h,gy:i,march:L}}function Va(e,l,u){const i=pt(e,!0);return at(i.gy,3,i.march)+(l-1)*31-V(l,7)*(l-7)+u-1}function $a(e){const l=Tt(e).gy;let u=l-621,i,c,r;const D=pt(u,!1),o=at(l,3,D.march);if(r=e-o,r>=0){if(r<=185)return c=1+V(r,31),i=P(r,31)+1,{jy:u,jm:c,jd:i};r-=186}else u-=1,r+=179,D.leap===1&&(r+=1);return c=7+V(r,30),i=P(r,30)+1,{jy:u,jm:c,jd:i}}function at(e,l,u){let i=V((e+V(l-8,6)+100100)*1461,4)+V(153*P(l+9,12)+2,5)+u-34840408;return i=i-V(V(e+100100+V(l-8,6),100)*3,4)+752,i}function Tt(e){let l=4*e+139361631;l=l+V(V(4*e+183187720,146097)*3,4)*4-3908;const u=V(P(l,1461),4)*5+308,i=V(P(u,153),5)+1,c=P(V(u,153),12)+1;return{gy:V(l,1461)-100100+V(8-c,6),gm:c,gd:i}}function V(e,l){return~~(e/l)}function P(e,l){return e-~~(e/l)*l}const Oa=["gregorian","persian"],Mt={mask:{type:String},locale:Object,calendar:{type:String,validator:e=>Oa.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},Qa=["update:modelValue"];function le(e){return e.year+"/"+p(e.month)+"/"+p(e.day)}function La(e,l){const u=x(()=>e.disable!==!0&&e.readonly!==!0),i=x(()=>u.value===!0?0:-1),c=x(()=>{const o=[];return e.color!==void 0&&o.push(`bg-${e.color}`),e.textColor!==void 0&&o.push(`text-${e.textColor}`),o.join(" ")});function r(){return e.locale!==void 0?{...l.lang.date,...e.locale}:l.lang.date}function D(o){const h=new Date,I=o===!0?null:0;if(e.calendar==="persian"){const v=pa(h);return{year:v.jy,month:v.jm,day:v.jd}}return{year:h.getFullYear(),month:h.getMonth()+1,day:h.getDate(),hour:I,minute:I,second:I,millisecond:I}}return{editable:u,tabindex:i,headerClass:c,getLocale:r,getCurrentDate:D}}const At=864e5,ja=36e5,tt=6e4,Vt="YYYY-MM-DDTHH:mm:ss.SSSZ",Fa=/\[((?:[^\]\\]|\\]|\\)*)\]|do|d{1,4}|Mo|M{1,4}|m{1,2}|wo|w{1,2}|Qo|Do|DDDo|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,Na=/(\[[^\]]*\])|do|d{1,4}|Mo|M{1,4}|m{1,2}|wo|w{1,2}|Qo|Do|DDDo|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,We={};function za(e,l){const u="("+l.days.join("|")+")",i=e+u;if(We[i]!==void 0)return We[i];const c="("+l.daysShort.join("|")+")",r="("+l.months.join("|")+")",D="("+l.monthsShort.join("|")+")",o={};let h=0;const I=e.replace(Na,S=>{switch(h++,S){case"YY":return o.YY=h,"(-?\\d{1,2})";case"YYYY":return o.YYYY=h,"(-?\\d{1,4})";case"M":return o.M=h,"(\\d{1,2})";case"Mo":return o.M=h++,"(\\d{1,2}(st|nd|rd|th))";case"MM":return o.M=h,"(\\d{2})";case"MMM":return o.MMM=h,D;case"MMMM":return o.MMMM=h,r;case"D":return o.D=h,"(\\d{1,2})";case"Do":return o.D=h++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return o.D=h,"(\\d{2})";case"H":return o.H=h,"(\\d{1,2})";case"HH":return o.H=h,"(\\d{2})";case"h":return o.h=h,"(\\d{1,2})";case"hh":return o.h=h,"(\\d{2})";case"m":return o.m=h,"(\\d{1,2})";case"mm":return o.m=h,"(\\d{2})";case"s":return o.s=h,"(\\d{1,2})";case"ss":return o.s=h,"(\\d{2})";case"S":return o.S=h,"(\\d{1})";case"SS":return o.S=h,"(\\d{2})";case"SSS":return o.S=h,"(\\d{3})";case"A":return o.A=h,"(AM|PM)";case"a":return o.a=h,"(am|pm)";case"aa":return o.aa=h,"(a\\.m\\.|p\\.m\\.)";case"ddd":return c;case"dddd":return u;case"Q":case"d":case"E":return"(\\d{1})";case"do":return h++,"(\\d{1}(st|nd|rd|th))";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"DDDo":return h++,"(\\d{1,3}(st|nd|rd|th))";case"w":return"(\\d{1,2})";case"wo":return h++,"(\\d{1,2}(st|nd|rd|th))";case"ww":return"(\\d{2})";case"Z":return o.Z=h,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return o.ZZ=h,"(Z|[+-]\\d{2}\\d{2})";case"X":return o.X=h,"(-?\\d+)";case"x":return o.x=h,"(-?\\d{4,})";default:return h--,S[0]==="["&&(S=S.substring(1,S.length-1)),S.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),v={map:o,regex:new RegExp("^"+I)};return We[i]=v,v}function $t(e,l){return e!==void 0?e:l!==void 0?l.date:ta.date}function xt(e,l=""){const u=e>0?"-":"+",i=Math.abs(e),c=Math.floor(i/60),r=i%60;return u+p(c)+l+p(r)}function Ba(e,l,u,i,c){const r={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(c!==void 0&&Object.assign(r,c),e==null||e===""||typeof e!="string")return r;l===void 0&&(l=Vt);const D=$t(u,qt.props),o=D.months,h=D.monthsShort,{regex:I,map:v}=za(l,D),S=e.match(I);if(S===null)return r;let L="";if(v.X!==void 0||v.x!==void 0){const O=parseInt(S[v.X!==void 0?v.X:v.x],10);if(isNaN(O)===!0||O<0)return r;const g=new Date(O*(v.X!==void 0?1e3:1));r.year=g.getFullYear(),r.month=g.getMonth()+1,r.day=g.getDate(),r.hour=g.getHours(),r.minute=g.getMinutes(),r.second=g.getSeconds(),r.millisecond=g.getMilliseconds()}else{if(v.YYYY!==void 0)r.year=parseInt(S[v.YYYY],10);else if(v.YY!==void 0){const O=parseInt(S[v.YY],10);r.year=O<0?O:2e3+O}if(v.M!==void 0){if(r.month=parseInt(S[v.M],10),r.month<1||r.month>12)return r}else v.MMM!==void 0?r.month=h.indexOf(S[v.MMM])+1:v.MMMM!==void 0&&(r.month=o.indexOf(S[v.MMMM])+1);if(v.D!==void 0){if(r.day=parseInt(S[v.D],10),r.year===null||r.month===null||r.day<1)return r;const O=i!=="persian"?new Date(r.year,r.month,0).getDate():pe(r.year,r.month);if(r.day>O)return r}v.H!==void 0?r.hour=parseInt(S[v.H],10)%24:v.h!==void 0&&(r.hour=parseInt(S[v.h],10)%12,(v.A&&S[v.A]==="PM"||v.a&&S[v.a]==="pm"||v.aa&&S[v.aa]==="p.m.")&&(r.hour+=12),r.hour=r.hour%24),v.m!==void 0&&(r.minute=parseInt(S[v.m],10)%60),v.s!==void 0&&(r.second=parseInt(S[v.s],10)%60),v.S!==void 0&&(r.millisecond=parseInt(S[v.S],10)*10**(3-S[v.S].length)),(v.Z!==void 0||v.ZZ!==void 0)&&(L=v.Z!==void 0?S[v.Z].replace(":",""):S[v.ZZ],r.timezoneOffset=(L[0]==="+"?-1:1)*(60*L.slice(1,3)+1*L.slice(3,5)))}return r.dateHash=p(r.year,4)+"/"+p(r.month)+"/"+p(r.day),r.timeHash=p(r.hour)+":"+p(r.minute)+":"+p(r.second)+L,r}function Ke(e){const l=new Date(e.getFullYear(),e.getMonth(),e.getDate());l.setDate(l.getDate()-(l.getDay()+6)%7+3);const u=new Date(l.getFullYear(),0,4);u.setDate(u.getDate()-(u.getDay()+6)%7+3);const i=l.getTimezoneOffset()-u.getTimezoneOffset();l.setHours(l.getHours()-i);const c=(l-u)/(At*7);return 1+Math.floor(c)}function te(e,l,u){const i=new Date(e),c=`set${u===!0?"UTC":""}`;switch(l){case"year":case"years":i[`${c}Month`](0);case"month":case"months":i[`${c}Date`](1);case"day":case"days":case"date":i[`${c}Hours`](0);case"hour":case"hours":i[`${c}Minutes`](0);case"minute":case"minutes":i[`${c}Seconds`](0);case"second":case"seconds":i[`${c}Milliseconds`](0)}return i}function ke(e,l,u){return(e.getTime()-e.getTimezoneOffset()*tt-(l.getTime()-l.getTimezoneOffset()*tt))/u}function Ot(e,l,u="days"){const i=new Date(e),c=new Date(l);switch(u){case"years":case"year":return i.getFullYear()-c.getFullYear();case"months":case"month":return(i.getFullYear()-c.getFullYear())*12+i.getMonth()-c.getMonth();case"days":case"day":case"date":return ke(te(i,"day"),te(c,"day"),At);case"hours":case"hour":return ke(te(i,"hour"),te(c,"hour"),ja);case"minutes":case"minute":return ke(te(i,"minute"),te(c,"minute"),tt);case"seconds":case"second":return ke(te(i,"second"),te(c,"second"),1e3)}}function Ge(e){return Ot(e,te(e,"year"),"days")+1}function ve(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const Dt={YY(e,l,u){const i=this.YYYY(e,l,u)%100;return i>=0?p(i):"-"+p(Math.abs(i))},YYYY(e,l,u){return u??e.getFullYear()},M(e){return e.getMonth()+1},Mo(e){return ve(e.getMonth()+1)},MM(e){return p(e.getMonth()+1)},MMM(e,l){return l.monthsShort[e.getMonth()]},MMMM(e,l){return l.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return ve(this.Q(e))},D(e){return e.getDate()},Do(e){return ve(e.getDate())},DD(e){return p(e.getDate())},DDD(e){return Ge(e)},DDDo(e){return ve(Ge(e))},DDDD(e){return p(Ge(e),3)},d(e){return e.getDay()},do(e){return ve(e.getDay())},dd(e,l){return l.days[e.getDay()].slice(0,2)},ddd(e,l){return l.daysShort[e.getDay()]},dddd(e,l){return l.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return Ke(e)},wo(e){return ve(Ke(e))},ww(e){return p(Ke(e))},H(e){return e.getHours()},HH(e){return p(e.getHours())},h(e){const l=e.getHours();return l===0?12:l>12?l%12:l},hh(e){return p(this.h(e))},m(e){return e.getMinutes()},mm(e){return p(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return p(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return p(Math.floor(e.getMilliseconds()/10))},SSS(e){return p(e.getMilliseconds(),3)},A(e){return e.getHours()<12?"AM":"PM"},a(e){return e.getHours()<12?"am":"pm"},aa(e){return e.getHours()<12?"a.m.":"p.m."},Z(e,l,u,i){const c=i??e.getTimezoneOffset();return xt(c,":")},ZZ(e,l,u,i){const c=i??e.getTimezoneOffset();return xt(c)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function Pa(e,l,u,i,c){if(e!==0&&!e||e===1/0||e===-1/0)return;const r=new Date(e);if(isNaN(r))return;l===void 0&&(l=Vt);const D=$t(u,qt.props);return l.replace(Fa,(o,h)=>o in Dt?Dt[o](r,D,i,c):h===void 0?o:h.split("\\]").join("]"))}const ee=20,Ra=["Calendar","Years","Months"],wt=e=>Ra.includes(e),et=e=>/^-?[\d]+\/[0-1]\d$/.test(e),me=" — ";function oe(e){return e.year+"/"+p(e.month)}const Ea=xe({name:"QDate",props:{...Mt,...Yt,...St,modelValue:{required:!0,validator:e=>typeof e=="string"||Array.isArray(e)===!0||Object(e)===e||e===null},multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{...Mt.mask,default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:et},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:et},navigationMaxYearMonth:{type:String,validator:et},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:wt}},emits:[...Qa,"rangeStart","rangeEnd","navigation"],setup(e,{slots:l,emit:u}){const{proxy:i}=Te(),{$q:c}=i,r=Ct(e,c),{getCache:D}=_a(),{tabindex:o,headerClass:h,getLocale:I,getCurrentDate:v}=La(e,c);let S;const L=Ht(e),O=It(L),g=$(null),q=$(ut()),k=$(I()),Ae=x(()=>ut()),De=x(()=>I()),C=x(()=>v()),s=$(ct(q.value,k.value)),T=$(e.defaultView),J=x(()=>c.lang.rtl===!0?"right":"left"),R=$(J.value),w=$(J.value),E=s.value.year,W=$(E-E%ee-(E<0?ee:0)),Q=$(null),we=x(()=>{const t=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${t} q-date--${t}-${e.minimal===!0?"minimal":"standard"}`+(r.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),K=x(()=>e.color||"primary"),ie=x(()=>e.textColor||"white"),qe=x(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),Ve=x(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),X=x(()=>Ve.value.filter(t=>typeof t=="string").map(t=>je(t,q.value,k.value)).filter(t=>t.dateHash!==null&&t.day!==null&&t.month!==null&&t.year!==null)),ue=x(()=>{const t=a=>je(a,q.value,k.value);return Ve.value.filter(a=>aa(a)===!0&&a.from!==void 0&&a.to!==void 0).map(a=>({from:t(a.from),to:t(a.to)})).filter(a=>a.from.dateHash!==null&&a.to.dateHash!==null&&a.from.dateHash<a.to.dateHash)}),Se=x(()=>e.calendar!=="persian"?t=>new Date(t.year,t.month-1,t.day):t=>{const a=bt(t.year,t.month,t.day);return new Date(a.gy,a.gm-1,a.gd)}),$e=x(()=>e.calendar==="persian"?le:(t,a,n)=>Pa(new Date(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond),a===void 0?q.value:a,n===void 0?k.value:n,t.year,t.timezoneOffset)),ye=x(()=>X.value.length+ue.value.reduce((t,a)=>t+1+Ot(Se.value(a.to),Se.value(a.from)),0)),nt=x(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length!==0)return e.title;if(Q.value!==null){const n=Q.value.init,d=Se.value(n);return k.value.daysShort[d.getDay()]+", "+k.value.monthsShort[n.month-1]+" "+n.day+me+"?"}if(ye.value===0)return me;if(ye.value>1)return`${ye.value} ${k.value.pluralDay}`;const t=X.value[0],a=Se.value(t);return isNaN(a.valueOf())===!0?me:k.value.headerTitle!==void 0?k.value.headerTitle(a,t):k.value.daysShort[a.getDay()]+", "+k.value.monthsShort[t.month-1]+" "+t.day}),Qt=x(()=>X.value.concat(ue.value.map(a=>a.from)).sort((a,n)=>a.year-n.year||a.month-n.month)[0]),Lt=x(()=>X.value.concat(ue.value.map(a=>a.to)).sort((a,n)=>n.year-a.year||n.month-a.month)[0]),lt=x(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length!==0)return e.subtitle;if(ye.value===0)return me;if(ye.value>1){const t=Qt.value,a=Lt.value,n=k.value.monthsShort;return n[t.month-1]+(t.year!==a.year?" "+t.year+me+n[a.month-1]+" ":t.month!==a.month?me+n[a.month-1]:"")+" "+a.year}return X.value[0].year}),Ce=x(()=>{const t=[c.iconSet.datetime.arrowLeft,c.iconSet.datetime.arrowRight];return c.lang.rtl===!0?t.reverse():t}),ot=x(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):k.value.firstDayOfWeek),jt=x(()=>{const t=k.value.daysShort,a=ot.value;return a>0?t.slice(a,7).concat(t.slice(0,a)):t}),ae=x(()=>{const t=s.value;return e.calendar!=="persian"?new Date(t.year,t.month,0).getDate():pe(t.year,t.month)}),Ft=x(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),j=x(()=>{if(e.navigationMinYearMonth===void 0)return null;const t=e.navigationMinYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}}),F=x(()=>{if(e.navigationMaxYearMonth===void 0)return null;const t=e.navigationMaxYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}}),Oe=x(()=>{const t={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return j.value!==null&&j.value.year>=s.value.year&&(t.year.prev=!1,j.value.year===s.value.year&&j.value.month>=s.value.month&&(t.month.prev=!1)),F.value!==null&&F.value.year<=s.value.year&&(t.year.next=!1,F.value.year===s.value.year&&F.value.month<=s.value.month&&(t.month.next=!1)),t}),Ye=x(()=>{const t={};return X.value.forEach(a=>{const n=oe(a);t[n]===void 0&&(t[n]=[]),t[n].push(a.day)}),t}),rt=x(()=>{const t={};return ue.value.forEach(a=>{const n=oe(a.from),d=oe(a.to);if(t[n]===void 0&&(t[n]=[]),t[n].push({from:a.from.day,to:n===d?a.to.day:void 0,range:a}),n<d){let f;const{year:H,month:y}=a.from,Y=y<12?{year:H,month:y+1}:{year:H+1,month:1};for(;(f=oe(Y))<=d;)t[f]===void 0&&(t[f]=[]),t[f].push({from:void 0,to:f===d?a.to.day:void 0,range:a}),Y.month++,Y.month>12&&(Y.year++,Y.month=1)}}),t}),_e=x(()=>{if(Q.value===null)return;const{init:t,initHash:a,final:n,finalHash:d}=Q.value,[f,H]=a<=d?[t,n]:[n,t],y=oe(f),Y=oe(H);if(y!==U.value&&Y!==U.value)return;const A={};return y===U.value?(A.from=f.day,A.includeFrom=!0):A.from=1,Y===U.value?(A.to=H.day,A.includeTo=!0):A.to=ae.value,A}),U=x(()=>oe(s.value)),Nt=x(()=>{const t={};if(e.options===void 0){for(let n=1;n<=ae.value;n++)t[n]=!0;return t}const a=typeof e.options=="function"?e.options:n=>e.options.includes(n);for(let n=1;n<=ae.value;n++){const d=U.value+"/"+p(n);t[n]=a(d)}return t}),zt=x(()=>{const t={};if(e.events===void 0)for(let a=1;a<=ae.value;a++)t[a]=!1;else{const a=typeof e.events=="function"?e.events:n=>e.events.includes(n);for(let n=1;n<=ae.value;n++){const d=U.value+"/"+p(n);t[n]=a(d)===!0&&Ft.value(d)}}return t}),Bt=x(()=>{let t,a;const{year:n,month:d}=s.value;if(e.calendar!=="persian")t=new Date(n,d-1,1),a=new Date(n,d-1,0).getDate();else{const f=bt(n,d,1);t=new Date(f.gy,f.gm-1,f.gd);let H=d-1,y=n;H===0&&(H=12,y--),a=pe(y,H)}return{days:t.getDay()-ot.value-1,endDay:a}}),st=x(()=>{const t=[],{days:a,endDay:n}=Bt.value,d=a<0?a+7:a;if(d<6)for(let y=n-d;y<=n;y++)t.push({i:y,fill:!0});const f=t.length;for(let y=1;y<=ae.value;y++){const Y={i:y,event:zt.value[y],classes:[]};Nt.value[y]===!0&&(Y.in=!0,Y.flat=!0),t.push(Y)}if(Ye.value[U.value]!==void 0&&Ye.value[U.value].forEach(y=>{const Y=f+y-1;Object.assign(t[Y],{selected:!0,unelevated:!0,flat:!1,color:K.value,textColor:ie.value})}),rt.value[U.value]!==void 0&&rt.value[U.value].forEach(y=>{if(y.from!==void 0){const Y=f+y.from-1,A=f+(y.to||ae.value)-1;for(let be=Y;be<=A;be++)Object.assign(t[be],{range:y.range,unelevated:!0,color:K.value,textColor:ie.value});Object.assign(t[Y],{rangeFrom:!0,flat:!1}),y.to!==void 0&&Object.assign(t[A],{rangeTo:!0,flat:!1})}else if(y.to!==void 0){const Y=f+y.to-1;for(let A=f;A<=Y;A++)Object.assign(t[A],{range:y.range,unelevated:!0,color:K.value,textColor:ie.value});Object.assign(t[Y],{flat:!1,rangeTo:!0})}else{const Y=f+ae.value-1;for(let A=f;A<=Y;A++)Object.assign(t[A],{range:y.range,unelevated:!0,color:K.value,textColor:ie.value})}}),_e.value!==void 0){const y=f+_e.value.from-1,Y=f+_e.value.to-1;for(let A=y;A<=Y;A++)t[A].color=K.value,t[A].editRange=!0;_e.value.includeFrom===!0&&(t[y].editRangeFrom=!0),_e.value.includeTo===!0&&(t[Y].editRangeTo=!0)}s.value.year===C.value.year&&s.value.month===C.value.month&&(t[f+C.value.day-1].today=!0);const H=t.length%7;if(H>0){const y=7-H;for(let Y=1;Y<=y;Y++)t.push({i:Y,fill:!0})}return t.forEach(y=>{let Y="q-date__calendar-item ";y.fill===!0?Y+="q-date__calendar-item--fill":(Y+=`q-date__calendar-item--${y.in===!0?"in":"out"}`,y.range!==void 0&&(Y+=` q-date__range${y.rangeTo===!0?"-to":y.rangeFrom===!0?"-from":""}`),y.editRange===!0&&(Y+=` q-date__edit-range${y.editRangeFrom===!0?"-from":""}${y.editRangeTo===!0?"-to":""}`),(y.range!==void 0||y.editRange===!0)&&(Y+=` text-${y.color}`)),y.classes=Y}),t}),Pt=x(()=>e.disable===!0?{"aria-disabled":"true"}:{});he(()=>e.modelValue,t=>{if(S===JSON.stringify(t))S=0;else{const a=ct(q.value,k.value);ce(a.year,a.month,a)}}),he(T,()=>{g.value!==null&&i.$el.contains(document.activeElement)===!0&&g.value.focus()}),he(()=>s.value.year+"|"+s.value.month,()=>{u("navigation",{year:s.value.year,month:s.value.month})}),he(Ae,t=>{ht(t,k.value,"mask"),q.value=t}),he(De,t=>{ht(q.value,t,"locale"),k.value=t});function Qe(t){S=JSON.stringify(t)}function it(){const{year:t,month:a,day:n}=C.value,d={...s.value,year:t,month:a,day:n},f=Ye.value[oe(d)];(f===void 0||f.includes(d.day)===!1)&&Ne(d),Le(d.year,d.month)}function Rt(t){wt(t)===!0&&(T.value=t)}function Et(t,a){["month","year"].includes(t)&&(t==="month"?ft:Fe)(a===!0?-1:1)}function Le(t,a){T.value="Calendar",ce(t,a)}function Ut(t,a){if(e.range===!1||!t){Q.value=null;return}const n=Object.assign({...s.value},t),d=a!==void 0?Object.assign({...s.value},a):n;Q.value={init:n,initHash:le(n),final:d,finalHash:le(d)},Le(n.year,n.month)}function ut(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function je(t,a,n){return Ba(t,a,n,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function ct(t,a){const n=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(n.length===0)return dt();const d=n[n.length-1],f=je(d.from!==void 0?d.from:d,t,a);return f.dateHash===null?dt():f}function dt(){let t,a;if(e.defaultYearMonth!==void 0){const n=e.defaultYearMonth.split("/");t=parseInt(n[0],10),a=parseInt(n[1],10)}else{const n=C.value!==void 0?C.value:v();t=n.year,a=n.month}return{year:t,month:a,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:t+"/"+p(a)+"/01"}}function ft(t){let a=s.value.year,n=Number(s.value.month)+t;n===13?(n=1,a++):n===0&&(n=12,a--),ce(a,n),qe.value===!0&&He("month")}function Fe(t){const a=Number(s.value.year)+t;ce(a,s.value.month),qe.value===!0&&He("year")}function Zt(t){ce(t,s.value.month),T.value=e.defaultView==="Years"?"Months":"Calendar",qe.value===!0&&He("year")}function Xt(t){ce(s.value.year,t),T.value="Calendar",qe.value===!0&&He("month")}function Jt(t,a){(Ye.value[a]?.includes(t.day)===!0?ze:Ne)(t)}function se(t){return{year:t.year,month:t.month,day:t.day}}function ce(t,a,n){if(j.value!==null&&t<=j.value.year&&((a<j.value.month||t<j.value.year)&&(a=j.value.month),t=j.value.year),F.value!==null&&t>=F.value.year&&((a>F.value.month||t>F.value.year)&&(a=F.value.month),t=F.value.year),n!==void 0){const{hour:f,minute:H,second:y,millisecond:Y,timezoneOffset:A,timeHash:be}=n;Object.assign(s.value,{hour:f,minute:H,second:y,millisecond:Y,timezoneOffset:A,timeHash:be})}const d=t+"/"+p(a)+"/01";d!==s.value.dateHash&&(R.value=s.value.dateHash<d==(c.lang.rtl!==!0)?"left":"right",t!==s.value.year&&(w.value=R.value),gt(()=>{W.value=t-t%ee-(t<0?ee:0),Object.assign(s.value,{year:t,month:a,day:1,dateHash:d})}))}function vt(t,a,n){const d=t!==null&&t.length===1&&e.multiple===!1?t[0]:t,{reason:f,details:H}=mt(a,n);Qe(d),u("update:modelValue",d,f,H)}function He(t){const a=X.value[0]!==void 0&&X.value[0].dateHash!==null?{...X.value[0]}:{...s.value};gt(()=>{a.year=s.value.year,a.month=s.value.month;const n=e.calendar!=="persian"?new Date(a.year,a.month,0).getDate():pe(a.year,a.month);a.day=Math.min(Math.max(1,a.day),n);const d=de(a),{details:f}=mt("",a);Qe(d),u("update:modelValue",d,t,f)})}function mt(t,a){return a.from!==void 0?{reason:`${t}-range`,details:{...se(a.target),from:se(a.from),to:se(a.to)}}:{reason:`${t}-day`,details:se(a)}}function de(t,a,n){return t.from!==void 0?{from:$e.value(t.from,a,n),to:$e.value(t.to,a,n)}:$e.value(t,a,n)}function Ne(t){let a;if(e.multiple===!0)if(t.from!==void 0){const n=le(t.from),d=le(t.to),f=X.value.filter(y=>y.dateHash<n||y.dateHash>d),H=ue.value.filter(({from:y,to:Y})=>Y.dateHash<n||y.dateHash>d);a=f.concat(H).concat(t).map(y=>de(y))}else{const n=Ve.value.slice();n.push(de(t)),a=n}else a=de(t);vt(a,"add",t)}function ze(t){if(e.noUnset===!0)return;let a=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const n=de(t);t.from!==void 0?a=e.modelValue.filter(d=>d.from!==void 0?d.from!==n.from&&d.to!==n.to:!0):a=e.modelValue.filter(d=>d!==n),a.length===0&&(a=null)}vt(a,"remove",t)}function ht(t,a,n){const d=X.value.concat(ue.value).map(H=>de(H,t,a)).filter(H=>H.from!==void 0?H.from.dateHash!==null&&H.to.dateHash!==null:H.dateHash!==null),f=(e.multiple===!0?d:d[0])||null;Qe(f),u("update:modelValue",f,n)}function Wt(){if(e.minimal!==!0)return b("div",{class:"q-date__header "+h.value},[b("div",{class:"relative-position"},[b(ge,{name:"q-transition--fade"},()=>b("div",{key:"h-yr-"+lt.value,class:"q-date__header-subtitle q-date__header-link "+(T.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:o.value,...D("vY",{onClick(){T.value="Years"},onKeyup(t){t.keyCode===13&&(T.value="Years")}})},[lt.value]))]),b("div",{class:"q-date__header-title relative-position flex no-wrap"},[b("div",{class:"relative-position col"},[b(ge,{name:"q-transition--fade"},()=>b("div",{key:"h-sub"+nt.value,class:"q-date__header-title-label q-date__header-link "+(T.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:o.value,...D("vC",{onClick(){T.value="Calendar"},onKeyup(t){t.keyCode===13&&(T.value="Calendar")}})},[nt.value]))]),e.todayBtn===!0?b(N,{class:"q-date__header-today self-start",icon:c.iconSet.datetime.today,"aria-label":c.lang.date.today,flat:!0,size:"sm",round:!0,tabindex:o.value,onClick:it}):null])])}function Be({label:t,type:a,key:n,dir:d,goTo:f,boundaries:H,cls:y}){return[b("div",{class:"row items-center q-date__arrow"},[b(N,{round:!0,dense:!0,size:"sm",flat:!0,icon:Ce.value[0],"aria-label":a==="Years"?c.lang.date.prevYear:c.lang.date.prevMonth,tabindex:o.value,disable:H.prev===!1,...D("go-#"+a,{onClick(){f(-1)}})})]),b("div",{class:"relative-position overflow-hidden flex flex-center"+y},[b(ge,{name:"q-transition--jump-"+d},()=>b("div",{key:n},[b(N,{flat:!0,dense:!0,noCaps:!0,label:t,tabindex:o.value,...D("view#"+a,{onClick:()=>{T.value=a}})})]))]),b("div",{class:"row items-center q-date__arrow"},[b(N,{round:!0,dense:!0,size:"sm",flat:!0,icon:Ce.value[1],"aria-label":a==="Years"?c.lang.date.nextYear:c.lang.date.nextMonth,tabindex:o.value,disable:H.next===!1,...D("go+#"+a,{onClick(){f(1)}})})])]}const Kt={Calendar:()=>[b("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[b("div",{class:"q-date__navigation row items-center no-wrap"},Be({label:k.value.months[s.value.month-1],type:"Months",key:s.value.month,dir:R.value,goTo:ft,boundaries:Oe.value.month,cls:" col"}).concat(Be({label:s.value.year,type:"Years",key:s.value.year,dir:w.value,goTo:Fe,boundaries:Oe.value.year,cls:""}))),b("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},jt.value.map(t=>b("div",{class:"q-date__calendar-item"},[b("div",t)]))),b("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[b(ge,{name:"q-transition--slide-"+R.value},()=>b("div",{key:U.value,class:"q-date__calendar-days fit"},st.value.map(t=>b("div",{class:t.classes},[t.in===!0?b(N,{class:t.today===!0?"q-date__today":"",dense:!0,flat:t.flat,unelevated:t.unelevated,color:t.color,textColor:t.textColor,label:t.i,tabindex:o.value,...D("day#"+t.i,{onClick:()=>{Gt(t.i)},onMouseover:()=>{ea(t.i)}})},t.event!==!1?()=>b("div",{class:"q-date__event bg-"+t.event}):null):b("div",""+t.i)]))))])])],Months(){const t=s.value.year===C.value.year,a=d=>j.value!==null&&s.value.year===j.value.year&&j.value.month>d||F.value!==null&&s.value.year===F.value.year&&F.value.month<d,n=k.value.monthsShort.map((d,f)=>{const H=s.value.month===f+1;return b("div",{class:"q-date__months-item flex flex-center"},[b(N,{class:t===!0&&C.value.month===f+1?"q-date__today":null,flat:H!==!0,label:d,unelevated:H,color:H===!0?K.value:null,textColor:H===!0?ie.value:null,tabindex:o.value,disable:a(f+1),...D("month#"+f,{onClick:()=>{Xt(f+1)}})})])});return e.yearsInMonthView===!0&&n.unshift(b("div",{class:"row no-wrap full-width"},[Be({label:s.value.year,type:"Years",key:s.value.year,dir:w.value,goTo:Fe,boundaries:Oe.value.year,cls:" col"})])),b("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},n)},Years(){const t=W.value,a=t+ee,n=[],d=f=>j.value!==null&&j.value.year>f||F.value!==null&&F.value.year<f;for(let f=t;f<=a;f++){const H=s.value.year===f;n.push(b("div",{class:"q-date__years-item flex flex-center"},[b(N,{key:"yr"+f,class:C.value.year===f?"q-date__today":null,flat:!H,label:f,dense:!0,unelevated:H,color:H===!0?K.value:null,textColor:H===!0?ie.value:null,tabindex:o.value,disable:d(f),...D("yr#"+f,{onClick:()=>{Zt(f)}})})]))}return b("div",{class:"q-date__view q-date__years flex flex-center"},[b("div",{class:"col-auto"},[b(N,{round:!0,dense:!0,flat:!0,icon:Ce.value[0],"aria-label":c.lang.date.prevRangeYears(ee),tabindex:o.value,disable:d(t),...D("y-",{onClick:()=>{W.value-=ee}})})]),b("div",{class:"q-date__years-content col self-stretch row items-center"},n),b("div",{class:"col-auto"},[b(N,{round:!0,dense:!0,flat:!0,icon:Ce.value[1],"aria-label":c.lang.date.nextRangeYears(ee),tabindex:o.value,disable:d(a),...D("y+",{onClick:()=>{W.value+=ee}})})])])}};function Gt(t){const a={...s.value,day:t};if(e.range===!1){Jt(a,U.value);return}if(Q.value===null){const n=st.value.find(f=>f.fill!==!0&&f.i===t);if(e.noUnset!==!0&&n.range!==void 0){ze({target:a,from:n.range.from,to:n.range.to});return}if(n.selected===!0){ze(a);return}const d=le(a);Q.value={init:a,initHash:d,final:a,finalHash:d},u("rangeStart",se(a))}else{const n=Q.value.initHash,d=le(a),f=n<=d?{from:Q.value.init,to:a}:{from:a,to:Q.value.init};Q.value=null,Ne(n===d?a:{target:a,...f}),u("rangeEnd",{from:se(f.from),to:se(f.to)})}}function ea(t){if(Q.value!==null){const a={...s.value,day:t};Object.assign(Q.value,{final:a,finalHash:le(a)})}}return Object.assign(i,{setToday:it,setView:Rt,offsetCalendar:Et,setCalendarTo:Le,setEditingRange:Ut}),()=>{const t=[b("div",{class:"q-date__content col relative-position"},[b(ge,{name:"q-transition--fade"},Kt[T.value])])],a=na(l.default);return a!==void 0&&t.push(b("div",{class:"q-date__actions"},a)),e.name!==void 0&&e.disable!==!0&&O(t,"push"),b("div",{class:we.value,...Pt.value},[Wt(),b("div",{ref:g,class:"q-date__main col column",tabindex:-1},t)])}}}),Ua=xe({name:"QPopupProxy",props:{...wa,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:l,emit:u,attrs:i}){const{proxy:c}=Te(),{$q:r}=c,D=$(!1),o=$(null),h=x(()=>parseInt(e.breakpoint,10)),{canShow:I}=qa({showing:D});function v(){return r.screen.width<h.value||r.screen.height<h.value?"dialog":"menu"}const S=$(v()),L=x(()=>S.value==="menu"?{maxHeight:"99vh"}:{});he(()=>v(),q=>{D.value!==!0&&(S.value=q)});function O(q){D.value=!0,u("show",q)}function g(q){D.value=!1,S.value=v(),u("hide",q)}return Object.assign(c,{show(q){I(q)===!0&&o.value.show(q)},hide(q){o.value.hide(q)},toggle(q){o.value.toggle(q)}}),la(c,"currentComponent",()=>({type:S.value,ref:o.value})),()=>{const q={ref:o,...L.value,...i,onShow:O,onHide:g};let k;return S.value==="dialog"?k=ba:(k=kt,Object.assign(q,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),b(k,q,l.default)}}}),Za='<circle cx="15" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="60" cy="15" r="9" fill-opacity=".3"><animate attributeName="r" from="9" to="9" begin="0s" dur="0.8s" values="9;15;9" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from=".5" to=".5" begin="0s" dur="0.8s" values=".5;1;.5" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="105" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"></animate></circle>',Xa=xe({name:"QSpinnerDots",props:oa,setup(e){const{cSize:l,classes:u}=ra(e);return()=>b("svg",{class:u.value,fill:"currentColor",width:l.value,height:l.value,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",innerHTML:Za})}}),Ja=xe({name:"QInnerLoading",props:{...St,...Sa,showing:Boolean,color:String,size:{type:[String,Number],default:"42px"},label:String,labelClass:String,labelStyle:[String,Array,Object]},setup(e,{slots:l}){const u=Te(),i=Ct(e,u.proxy.$q),{transitionProps:c,transitionStyle:r}=Ca(e),D=x(()=>"q-inner-loading q--avoid-card-border absolute-full column flex-center"+(i.value===!0?" q-inner-loading--dark":"")),o=x(()=>"q-inner-loading__label"+(e.labelClass!==void 0?` ${e.labelClass}`:""));function h(){const v=[b(sa,{size:e.size,color:e.color})];return e.label!==void 0&&v.push(b("div",{class:o.value,style:e.labelStyle},[e.label])),v}function I(){return e.showing===!0?b("div",{class:D.value,style:r.value},l.default!==void 0?l.default():h()):null}return()=>b(ge,c.value,I)}}),Wa=xe({name:"QRating",props:{...ia,...Yt,modelValue:{type:Number,required:!0},max:{type:[String,Number],default:5},icon:[String,Array],iconHalf:[String,Array],iconSelected:[String,Array],iconAriaLabel:[String,Array],color:[String,Array],colorHalf:[String,Array],colorSelected:[String,Array],noReset:Boolean,noDimming:Boolean,readonly:Boolean,disable:Boolean},emits:["update:modelValue"],setup(e,{slots:l,emit:u}){const{proxy:{$q:i}}=Te(),c=ua(e),r=Ht(e),D=It(r),o=$(0);let h={};const I=x(()=>e.readonly!==!0&&e.disable!==!0),v=x(()=>`q-rating row inline items-center q-rating--${I.value===!0?"":"non-"}editable`+(e.noDimming===!0?" q-rating--no-dimming":"")+(e.disable===!0?" disabled":"")+(e.color!==void 0&&Array.isArray(e.color)===!1?` text-${e.color}`:"")),S=x(()=>{const C=Array.isArray(e.icon)===!0?e.icon.length:0,s=Array.isArray(e.iconSelected)===!0?e.iconSelected.length:0,T=Array.isArray(e.iconHalf)===!0?e.iconHalf.length:0,J=Array.isArray(e.color)===!0?e.color.length:0,R=Array.isArray(e.colorSelected)===!0?e.colorSelected.length:0,w=Array.isArray(e.colorHalf)===!0?e.colorHalf.length:0;return{iconLen:C,icon:C>0?e.icon[C-1]:e.icon,selIconLen:s,selIcon:s>0?e.iconSelected[s-1]:e.iconSelected,halfIconLen:T,halfIcon:T>0?e.iconHalf[s-1]:e.iconHalf,colorLen:J,color:J>0?e.color[J-1]:e.color,selColorLen:R,selColor:R>0?e.colorSelected[R-1]:e.colorSelected,halfColorLen:w,halfColor:w>0?e.colorHalf[w-1]:e.colorHalf}}),L=x(()=>{if(typeof e.iconAriaLabel=="string"){const C=e.iconAriaLabel.length!==0?`${e.iconAriaLabel} `:"";return s=>`${C}${s}`}if(Array.isArray(e.iconAriaLabel)===!0){const C=e.iconAriaLabel.length;if(C>0)return s=>e.iconAriaLabel[Math.min(s,C)-1]}return(C,s)=>`${s} ${C}`}),O=x(()=>{const C=[],s=S.value,T=Math.ceil(e.modelValue),J=I.value===!0?0:null,R=e.iconHalf===void 0||T===e.modelValue?-1:T;for(let w=1;w<=e.max;w++){const E=o.value===0&&e.modelValue>=w||o.value>0&&o.value>=w,W=R===w&&o.value<w,Q=o.value>0&&(W===!0?T:e.modelValue)>=w&&o.value<w,we=W===!0?w<=s.halfColorLen?e.colorHalf[w-1]:s.halfColor:s.selColor!==void 0&&E===!0?w<=s.selColorLen?e.colorSelected[w-1]:s.selColor:w<=s.colorLen?e.color[w-1]:s.color,K=(W===!0?w<=s.halfIconLen?e.iconHalf[w-1]:s.halfIcon:s.selIcon!==void 0&&(E===!0||Q===!0)?w<=s.selIconLen?e.iconSelected[w-1]:s.selIcon:w<=s.iconLen?e.icon[w-1]:s.icon)||i.iconSet.rating.icon;C.push({name:(W===!0?w<=s.halfIconLen?e.iconHalf[w-1]:s.halfIcon:s.selIcon!==void 0&&(E===!0||Q===!0)?w<=s.selIconLen?e.iconSelected[w-1]:s.selIcon:w<=s.iconLen?e.icon[w-1]:s.icon)||i.iconSet.rating.icon,attrs:{tabindex:J,role:"radio","aria-checked":e.modelValue===w?"true":"false","aria-label":L.value(w,K)},iconClass:"q-rating__icon"+(E===!0||W===!0?" q-rating__icon--active":"")+(Q===!0?" q-rating__icon--exselected":"")+(o.value===w?" q-rating__icon--hovered":"")+(we!==void 0?` text-${we}`:"")})}return C}),g=x(()=>{const C={role:"radiogroup"};return e.disable===!0&&(C["aria-disabled"]="true"),e.readonly===!0&&(C["aria-readonly"]="true"),C});function q(C){if(I.value===!0){const s=Ya(parseInt(C,10),1,parseInt(e.max,10)),T=e.noReset!==!0&&e.modelValue===s?0:s;T!==e.modelValue&&u("update:modelValue",T),o.value=0}}function k(C){I.value===!0&&(o.value=C)}function Ae(C,s){switch(C.keyCode){case 13:case 32:return q(s),Pe(C);case 37:case 40:return h[`rt${s-1}`]&&h[`rt${s-1}`].focus(),Pe(C);case 39:case 38:return h[`rt${s+1}`]&&h[`rt${s+1}`].focus(),Pe(C)}}function De(){o.value=0}return ca(()=>{h={}}),()=>{const C=[];return O.value.forEach(({iconClass:s,name:T,attrs:J},R)=>{const w=R+1;C.push(b("div",{key:w,ref:E=>{h[`rt${w}`]=E},class:"q-rating__icon-container flex flex-center",...J,onClick(){q(w)},onMouseover(){k(w)},onMouseout:De,onFocus(){k(w)},onBlur:De,onKeyup(E){Ae(E,w)}},da(l[`tip-${w}`],[b(Z,{class:s,name:T})])))}),e.name!==void 0&&e.disable!==!0&&D(C,"push"),b("div",{class:v.value,style:c.value,...g.value},C)}}}),Ka={class:"page-header q-mb-lg"},Ga={class:"row items-center"},en={class:"row items-center q-col-gutter-md"},tn={class:"col-12 col-md-6"},an={class:"col-12 col-md-6"},nn={class:"row q-col-gutter-sm"},ln={class:"col-2 q-mr-sm"},on={class:"col-auto"},rn={class:"row q-col-gutter-md q-mb-lg"},sn={class:"col-12 col-sm-6 col-md-3"},un={class:"row no-wrap items-center"},cn={class:"stat-icon-container"},dn={class:"q-ml-sm"},fn={class:"text-h4 text-weight-bold q-mt-xs"},vn={class:"col-12 col-sm-6 col-md-3"},mn={class:"row no-wrap items-center"},hn={class:"stat-icon-container"},gn={class:"q-ml-sm"},yn={class:"text-h4 text-weight-bold q-mt-xs"},_n={class:"col-12 col-sm-6 col-md-3"},bn={class:"row no-wrap items-center"},Mn={class:"stat-icon-container"},xn={class:"q-ml-sm"},Dn={class:"text-h4 text-weight-bold q-mt-xs"},wn={class:"col-12 col-sm-6 col-md-3"},qn={class:"row no-wrap items-center"},Sn={class:"stat-icon-container"},Cn={class:"q-ml-sm"},Yn={class:"text-h4 text-weight-bold q-mt-xs"},Hn={class:"text-h6 flex"},In={class:"row items-center justify-end text-grey-7"},kn={class:"row q-col-gutter-lg q-mb-lg"},pn={class:"col-12 col-lg-6"},Tn={class:"text-h6 flex items-center"},An={class:"q-gutter-y-md"},Vn={class:"row items-center"},$n={class:"col-8 text-weight-medium"},On={class:"col-4 text-right text-primary text-weight-bold"},Qn={class:"col-12 col-lg-6"},Ln={class:"text-h6 flex items-center"},jn={class:"text-h6"},Fn={class:"row items-center"},Nn={class:"satisfaction-rating"},zn={class:"q-ml-sm text-grey-8"},Bn=fa({__name:"AnalyticsPage",setup(e){const l=ga(),u=$(!1),i=$("2025/04/01"),c=[{name:"id",align:"left",label:"ID",field:"id",sortable:!0},{name:"timestamp",align:"left",label:"時間",field:"timestamp",sortable:!0},{name:"userId",align:"left",label:"用戶ID",field:"userId",sortable:!0},{name:"question",align:"left",label:"問題",field:"question",sortable:!0},{name:"responseTime",align:"left",label:"回應時間",field:"responseTime",sortable:!0},{name:"satisfaction",align:"left",label:"滿意度",field:"satisfaction",sortable:!0,format:O=>`${O}/5`}],r=$({rowsPerPage:10}),D=$([{id:"1001",timestamp:"2025-04-01 09:15",userId:"U12345",question:"如何掛號內科？",responseTime:1.2,satisfaction:5},{id:"1002",timestamp:"2025-04-01 10:30",userId:"U23456",question:"體檢需要空腹嗎？",responseTime:.8,satisfaction:4},{id:"1003",timestamp:"2025-04-02 14:20",userId:"U34567",question:"心臟檢查需要掛哪個科？",responseTime:1.5,satisfaction:4},{id:"1004",timestamp:"2025-04-03 11:05",userId:"U45678",question:"週末有門診嗎？",responseTime:.7,satisfaction:5},{id:"1005",timestamp:"2025-04-03 16:45",userId:"U56789",question:"健檢中心在哪裡？",responseTime:.9,satisfaction:3},{id:"1006",timestamp:"2025-04-05 08:30",userId:"U67890",question:"腸胃不適應該掛哪科？",responseTime:1.3,satisfaction:5},{id:"1007",timestamp:"2025-04-05 13:15",userId:"U78901",question:"高階體檢價格？",responseTime:1.1,satisfaction:4},{id:"1008",timestamp:"2025-04-07 10:20",userId:"U89012",question:"抽血檢查多久出結果？",responseTime:.8,satisfaction:4},{id:"1009",timestamp:"2025-04-08 15:30",userId:"U90123",question:"頭痛頭暈應該看哪一科？",responseTime:1.4,satisfaction:5},{id:"1010",timestamp:"2025-04-09 09:50",userId:"U01234",question:"血壓偏高怎麼辦？",responseTime:1.6,satisfaction:3}]),o=$({totalConversations:876,totalUsers:342,avgResponseTime:1.2,satisfactionRate:92}),h=$([{question:"體檢套餐內容與價格",count:156,percentage:.85},{question:"掛號流程與方式",count:124,percentage:.65},{question:"各科門診時間",count:98,percentage:.5},{question:"症狀對應科室查詢",count:76,percentage:.4},{question:"檢查報告查詢方式",count:52,percentage:.3}]),I=()=>{console.log("圖表已初始化")},v=()=>{u.value=!0,setTimeout(()=>{u.value=!1,l.notify({color:"info",message:`已更新為 ${i.value} 的數據`,icon:"info",position:"top"})},1e3)},S=()=>{i.value="2025/04/01",v()},L=()=>{l.notify({color:"positive",message:"報表已導出",icon:"check_circle",position:"top"})};return va(()=>{u.value=!0,setTimeout(()=>{u.value=!1,I()},1e3)}),(O,g)=>(fe(),Ie(ka,{padding:""},{default:M(()=>[_("div",Ka,[_("div",Ga,[m(Z,{name:"analytics",size:"36px",color:"orange",class:"q-mr-md"}),g[2]||(g[2]=_("div",{class:"flex-center"},[_("h4",{class:"q-my-none text-weight-bold"},"使用統計分析"),_("p",{class:"text-grey-8 q-my-xs"},"查看AI助手使用情況和效能分析")],-1))])]),m(G,{flat:"",bordered:"",class:"filter-card q-mb-lg"},{default:M(()=>[m(z,null,{default:M(()=>[_("div",en,[_("div",tn,[m(Da,{outlined:"",modelValue:i.value,"onUpdate:modelValue":g[1]||(g[1]=q=>i.value=q),label:"選擇日期範圍",class:"date-input"},{prepend:M(()=>[m(Z,{name:"event",color:"primary"})]),append:M(()=>[m(Z,{name:"event",class:"cursor-pointer"},{default:M(()=>[m(Ua,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:M(()=>[m(Ea,{modelValue:i.value,"onUpdate:modelValue":g[0]||(g[0]=q=>i.value=q),range:"",minimal:"",class:"calendar-popup"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_("div",an,[_("div",nn,[_("div",ln,[m(N,{color:"primary",label:"應用篩選",icon:"filter_alt",class:"full-width filter-btn",onClick:v})]),_("div",on,[m(N,{outline:"",color:"grey-7",icon:"restart_alt",class:"reset-btn",onClick:S},{default:M(()=>[m(Ee,null,{default:M(()=>[...g[3]||(g[3]=[B("重置篩選條件",-1)])]),_:1})]),_:1})])])])])]),_:1})]),_:1}),_("div",rn,[_("div",sn,[m(G,{class:"stat-card stat-conversations"},{default:M(()=>[m(z,null,{default:M(()=>[_("div",un,[_("div",cn,[m(Z,{name:"question_answer",size:"40px"})]),_("div",dn,[g[4]||(g[4]=_("div",{class:"text-subtitle1 text-weight-medium"},"總對話次數",-1)),_("div",fn,ne(o.value.totalConversations),1)])])]),_:1})]),_:1})]),_("div",vn,[m(G,{class:"stat-card stat-users"},{default:M(()=>[m(z,null,{default:M(()=>[_("div",mn,[_("div",hn,[m(Z,{name:"people",size:"40px"})]),_("div",gn,[g[5]||(g[5]=_("div",{class:"text-subtitle1 text-weight-medium"},"總用戶數",-1)),_("div",yn,ne(o.value.totalUsers),1)])])]),_:1})]),_:1})]),_("div",_n,[m(G,{class:"stat-card stat-response-time"},{default:M(()=>[m(z,null,{default:M(()=>[_("div",bn,[_("div",Mn,[m(Z,{name:"speed",size:"40px"})]),_("div",xn,[g[7]||(g[7]=_("div",{class:"text-subtitle1 text-weight-medium"},"平均回應時間",-1)),_("div",Dn,[B(ne(o.value.avgResponseTime),1),g[6]||(g[6]=_("span",{class:"text-body2"},"秒",-1))])])])]),_:1})]),_:1})]),_("div",wn,[m(G,{class:"stat-card stat-satisfaction"},{default:M(()=>[m(z,null,{default:M(()=>[_("div",qn,[_("div",Sn,[m(Z,{name:"thumb_up",size:"40px"})]),_("div",Cn,[g[9]||(g[9]=_("div",{class:"text-subtitle1 text-weight-medium"},"滿意度",-1)),_("div",Yn,[B(ne(o.value.satisfactionRate),1),g[8]||(g[8]=_("span",{class:"text-body2"},"%",-1))])])])]),_:1})]),_:1})])]),m(G,{flat:"",bordered:"",class:"chart-card q-mb-lg"},{default:M(()=>[m(z,{class:"chart-header"},{default:M(()=>[_("div",Hn,[g[13]||(g[13]=B("對話趨勢 ",-1)),m(Ue),m(N,{flat:"",round:"",dense:"",icon:"more_vert"},{default:M(()=>[m(kt,null,{default:M(()=>[m(Ha,{style:{"min-width":"150px"}},{default:M(()=>[Re((fe(),Ie(Xe,{clickable:""},{default:M(()=>[m(Je,null,{default:M(()=>[...g[10]||(g[10]=[B("匯出圖表",-1)])]),_:1})]),_:1})),[[Ze]]),Re((fe(),Ie(Xe,{clickable:""},{default:M(()=>[m(Je,null,{default:M(()=>[...g[11]||(g[11]=[B("查看詳情",-1)])]),_:1})]),_:1})),[[Ze]]),Re((fe(),Ie(Xe,{clickable:""},{default:M(()=>[m(Je,null,{default:M(()=>[...g[12]||(g[12]=[B("刷新數據",-1)])]),_:1})]),_:1})),[[Ze]])]),_:1})]),_:1})]),_:1})])]),_:1}),m(Me),m(z,{class:"q-pa-none"},{default:M(()=>[...g[14]||(g[14]=[_("div",{id:"conversationTrend",style:{height:"300px"}},null,-1)])]),_:1}),m(Me),m(z,{class:"chart-footer q-py-sm"},{default:M(()=>[_("div",In,[m(Z,{name:"update",size:"18px"}),g[15]||(g[15]=_("span",{class:"q-ml-xs text-caption"},"最後更新: 今天 08:30",-1))])]),_:1})]),_:1}),_("div",kn,[_("div",pn,[m(G,{flat:"",bordered:"",class:"feature-card"},{default:M(()=>[m(z,{class:"feature-header"},{default:M(()=>[_("div",Tn,[m(Z,{name:"trending_up",size:"24px",color:"orange",class:"q-mr-sm"}),g[17]||(g[17]=B(" 熱門問題類型 ",-1)),m(Ue),m(N,{flat:"",round:"",dense:"",icon:"help_outline",class:"q-ml-sm"},{default:M(()=>[m(Ee,null,{default:M(()=>[...g[16]||(g[16]=[B("顯示最常被問到的問題類型",-1)])]),_:1})]),_:1})])]),_:1}),m(Me),m(z,{class:"q-pa-md"},{default:M(()=>[_("div",An,[(fe(!0),yt(ma,null,ha(h.value,(q,k)=>(fe(),yt("div",{key:k,class:"question-item q-pa-sm"},[_("div",Vn,[_("div",$n,ne(q.question),1),_("div",On,ne(q.count)+" 次",1)]),m(Ma,{value:q.percentage,color:"orange",size:"10px",class:"q-mt-sm progress-bar"},null,8,["value"])]))),128))])]),_:1})]),_:1})]),_("div",Qn,[m(G,{flat:"",bordered:"",class:"feature-card"},{default:M(()=>[m(z,{class:"feature-header"},{default:M(()=>[_("div",Ln,[m(Z,{name:"pie_chart",size:"24px",color:"secondary",class:"q-mr-sm"}),g[19]||(g[19]=B(" 科室分流統計 ",-1)),m(Ue),m(N,{flat:"",round:"",dense:"",icon:"help_outline"},{default:M(()=>[m(Ee,null,{default:M(()=>[...g[18]||(g[18]=[B("顯示AI分流到不同科室的比例",-1)])]),_:1})]),_:1})])]),_:1}),m(Me),m(z,{class:"q-pa-none"},{default:M(()=>[...g[20]||(g[20]=[_("div",{id:"departmentDistribution",style:{height:"300px"}},null,-1)])]),_:1})]),_:1})])]),m(G,{flat:"",bordered:"",class:"table-card q-mb-md"},{default:M(()=>[m(z,{class:"table-header"},{default:M(()=>[_("div",jn,[m(Z,{name:"list_alt",size:"24px",color:"primary",class:"q-mr-sm"}),g[21]||(g[21]=B(" 詳細對話記錄 ",-1)),m(N,{class:"q-mx-lg",color:"light-green-8",icon:"file_download",label:"導出報表","no-caps":"",unelevated:"",onClick:L})])]),_:1}),m(Me),m(z,{class:"q-pa-none"},{default:M(()=>[m(xa,{rows:D.value,columns:c,"row-key":"id",pagination:r.value,loading:u.value,class:"data-table","loading-label":"載入中...","no-data-label":"暫無數據"},{loading:M(()=>[m(Ja,{showing:"",color:"primary"},{default:M(()=>[m(Xa,{size:"40px",color:"primary"})]),_:1})]),"body-cell-satisfaction":M(q=>[m(_t,{props:q},{default:M(()=>[_("div",Fn,[_("div",Nn,[m(Wa,{modelValue:q.row.satisfaction,"onUpdate:modelValue":k=>q.row.satisfaction=k,size:"1em",color:"amber",readonly:"",icon:"star"},null,8,["modelValue","onUpdate:modelValue"])]),_("span",zn,ne(q.row.satisfaction)+"/5",1)])]),_:2},1032,["props"])]),"body-cell-responseTime":M(q=>[m(_t,{props:q},{default:M(()=>[m(Ia,{color:q.row.responseTime<1?"positive":q.row.responseTime<2?"warning":"negative","text-color":"white",class:"response-time-badge"},{default:M(()=>[B(ne(q.row.responseTime)+" 秒 ",1)]),_:2},1032,["color"])]),_:2},1032,["props"])]),_:1},8,["rows","pagination","loading"])]),_:1})]),_:1})]),_:1}))}}),tl=ya(Bn,[["__scopeId","data-v-c75b0e0f"]]);export{tl as default};
